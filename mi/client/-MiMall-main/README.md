## 项目简介
使用方式：<br>
确保数据库文件已导入<br>
git bash运行以下命令：<br>
（前端文件夹中）git clone https://github.com/Huborun/-MiMall.git<br>
（后端文件夹中）git clone https://github.com/Huborun/MiMallBackstage.git<br>
若git clone出错，则使用<br>
git config --global http.sslVerify "false"<br>
和git config --global --unset http.proxy<br>
在Vscode中分别打开这两个文件<br>
对于前端文件，使用：<br>
npm clean-install<br>
cnpm i<br>
npm run serve<br>
对于后端文件，使用：<br>
npm clean-install<br>
cnpm i<br>
npm run start<br>
之后打开http://localhost:6789/#/index即可<br>
### 项目名
项目名：2022最新的小米商城复刻实现1.0。<br>
项目实现方式：前端使用Vue，后端使用Node和Express框架，数据库使用Mysql。<br>
### 注意事项
分辨率：**2560 X 1440**<br>
浏览器：**谷歌浏览器**<br>
其他浏览器或分辨率我没有优化过，可能不能达到最优效果。<br>
### 主要使用工具版本
MySQL：版本8.0.19<br>
vue/cli：版本4.5.15<br>
vue-router: 3.5.3<br>
vuex: 3.6.2<br>
SCSS: 1.43.4<br>
Node：版本14.17.3<br>
Express：版本4.16.1<br>
图标字体：阿里巴巴的图标字体<br>
### 一些注释
1.为什么是小米商城？<br>
我需要实现的项目是：前端后端都有，前端占比较大，且数据都可以获取的Web项目；博客网站后端占比较大，音乐视频网站没有数据，公司官网没什么好做的，于是就只能做商城了。商城的话，国内Web端商城京东淘宝页面过于复杂，华为荣耀OPPOVIVO较为简单，就只有小米商城了。<br>
2.相似度怎么样？<br>
较高，实现了大部分的CSS样式，并实现了大部分的功能。<br>
几乎100%的首页内容；<br>
80%的购物车内容；<br>
20%的商品详情（这一步实在没办法）；<br>
80%的加购页面；<br>
100%的加购成功页面；<br>
90%的购买页面；<br>
100%的购买成功页面；<br>
60%的订单页面（没有购买过东西，暂时就这样了）<br>
90%的订单详情页面；<br>
3.Node服务器做什么？<br>
因为网上没有很好的小米商城接口，就只能自己实现了。<br>
Node实现功能：<br>
1）用户信息的保存及登录<br>
2）广告信息的获取<br>
3）商品数据（存储大小、颜色、价格等）的获取<br>
4）用户加购功能、购物车商品信息修改的实现<br>
5）用户地址的获取、增加和修改<br>
6）用户订单的确认<br>
7）获取中国部分区县的数据<br>
4.未实现的地方？<br>
1）最后一步：支付及支付完成的效果。因为我没有在小米商城买过东西，所以不知道这一步怎么做。这一步需要等我在小米商城购买东西之后完成，预计在1.2版本实现。<br>
2）build打包，需要后续对Linux系统、Nginx服务器、Node服务器加深学习完成。预计在1.1版本实现。<br>
3）小米商城的一些行为我没有跟上。<br>
行为一：加购界面的住址填写。这一步是完全没必要的，因为在这里无论选不选，后面订单界面还是要选地址。<br>
行为二：限购功能的一部分。小米商城是这样的，比如限购10台MIX4，加购11台MIX4黑色是不行的，但是加购5台黑色6台白色是可以的，但是支付时会告诉你不能超过限额，需要用户自行去减少购买量。<br>
4)真正的注册登陆功能。<br>
注册登陆功能本来是后端实现的，我这个项目是前端为主，所以就只写了简单的登录功能；预计在1.2版本可以实现真正的注册登陆功能。<br>
5）商城介绍页面的全部内容<br>
每个商品，我只写了5张图片，CSS也没有实现，因为小米商城的很多图片不能复制地址，而且CSS没有官方提供的过渡动画库，所以这一步不能完全实现。后续：将在1.1版本推出小米12Pro的高相似度版。<br>
## 实现内容<br>
1.小米商城首页（几乎1:1实现）<br>
2.小米商城登录功能，以及对错误输入的处理（暂不能注册）<br>
3.小米商城的购物车及购物车的相关功能（全选反选、增加减少商品数量、删除商品、购买限额）<br>
4.小米商城商品查看（5个商品：小米MIX4、MIX FOLD、小米11Ultra、红米K40、红米Note11Pro）<br>
5.小米商城商品加购界面<br>
6.加购成功页面<br>
7.下订单页面（收货地址的增加及修改）<br>
8.下订单成功页面<br>
9.订单页面（不能购买成功，因为我没有买过东西）<br>
10.订单详情页面<br>
## 实现方式
### CSS实现方式
实现方式：轮播图使用vue-awesome-swiper；使用了ElementUI的message Box并进行了魔改；其余CSS均自己实现。
### Vue/JS使用
Promise/axios:大量，以获取数据，并向服务器发送请求操作数据库，实现对商品、购物车、订单、地址的增删改查<br>
DOM操作：大量，因为JQuery多次安装均失败，所以均使用原生DOM操作<br>
Vue的混入：将处理字符串、提交操作、购物车新增操作的方法提取到混入js文件中<br>
cookies：判断用户是否已登录并保证**刷新后**依然能获取数据<br>
Vuex：存储用户的购物车、订单信息并获取，每次操作购物车、订单都会提交修改以保持最新<br>
父组件通过props向子组件发送信息：大量<br>
父组件使用refs调用子组件的方法：购物车页面全选反选的实现<br>
组件自定义事件/事件总线：购物车页面全选反选的实现；获取用户输入的地址<br>
Vue路由传参：较多<br>
Vue嵌套路由：home组件及order组件<br>
Vue的组件路由守卫：加购页面获取商品信息<br>
Vue的全局后置路由守卫：设置当前页面的title<br>
### Node/Express使用
查询操作：查询首页大量广告的相关信息、查询那5个手机的相关信息；查询用户的购物车信息、订单信息、地址信息<br>
增加操作：新增用户购物车信息、新增用户地址、新增用户订单<br>
修改操作：修改用户购物车商品数量、修改用户地址<br>
删除操作：删除单个用户购物车信息（注：小米做的小米商城中，是不可以删除用户地址的）<br>
## CSS实现难点
1.登录界面错误处理（见https://juejin.cn/post/7028858784445366280）<br>
2.首页轮播图左边广告栏的实现（v-show配合mouseleave和mouseenter以及设置currentIndex并监视其实现，见组件CategoryList）<br><
3.首页动态数目的标签切换（见https://juejin.cn/post/7036715970848620575）<br>
4.首页购物车，若数目高于5则出现滚动条（见https://juejin.cn/post/7045593272634310664）<br>
5.用户选择区县的实现（只实现了4个直辖市和吉林省的部分区县）<br>
6.用户填写、修改地址的实现<br>
7.根据用户选择的内存、颜色向服务器提交商品信息<br>
8.订单页面上一页、下一页，以及每页订单信息的实现<br>
9.首页固定定位的右栏实现<br>
## 后续计划
1.1版本：build的打包实现、小米12Pro的概述页和参数页的尽可能复刻、部分性能优化<br>
1.2版本：真正的注册登陆功能、完成订单的购买功能<br>
